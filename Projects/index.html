<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Shirly Herscovici is a motion graphic designer, video editor, and a Junior website developer who specializes in HTML & CSS">
  <meta name="robots" content="index,follow">
  <title>Shirly Herscovici | Design & Web Projects</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Google Fonts for 'Inter' (matching Homepage) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Custom font for a modern look - Inter is a good choice */
    html {
      height: 100%;
      scroll-behavior: smooth; /* Smooth scrolling for anchor links */
      scroll-padding-top: 5rem; /* Added for fixed header compensation */
    }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #f0f4f8, #e2e8f0, #f0f4f8);
      background-size: 400% 400%;
      animation: gradientBackground 15s ease infinite alternate;
      color: #1a202c;
      position: relative;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      min-height: 100vh; /* Ensure body takes full viewport height */
    }

    /* Particles.js canvas styling */
    #particles-js {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: -2;
    }

    /* Keyframes for background gradient animation */
    @keyframes gradientBackground {
      0% { background-position: 0% 0%; }
      100% { background-position: 100% 100%; }
    }

    /* Abstract background shapes/particles */
    body::before, body::after {
      content: '';
      position: fixed;
      z-index: -2;
      border-radius: 50%;
      opacity: 0.3;
      filter: blur(120px);
      transition: all 0.5s ease-in-out;
    }

    body::before {
      width: 450px;
      height: 450px;
      background: radial-gradient(circle at top left, #8dcef8, #3b82f6);
      top: -100px;
      left: -100px;
      animation: floatShape 24s infinite ease-in-out alternate;
    }

    body::after {
      width: 550px;
      height: 550px;
      background: radial-gradient(circle at bottom right, #e879f9, #a78bfa);
      bottom: -150px;
      right: -150px;
      animation: floatShape 30s infinite ease-in-out alternate-reverse;
    }

    @keyframes floatShape {
      0% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(40px, -50px) rotate(75deg); }
      50% { transform: translate(-20px, 80px) rotate(150deg); }
      75% { transform: translate(-60px, 30px) rotate(225deg); }
      100% { transform: translate(0, 0) rotate(300deg); }
    }

    /* Custom Footer Gradient - replicating original CSS */
    .custom-footer-gradient {
      background: linear-gradient(to right, #ff6600, #ff007b);
    }
    /* Frosted glass effect for header */
    .header-frosted {
      background-color: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    /* --- General Section Title Styles (for both graphic and web) --- */
    .section-title {
        font-size: 3rem; /* Increased font size */
        font-weight: 700;
        /* Gradient background for text */
        background: linear-gradient(to right, #2563eb, #7c3aed); /* Blue to Purple gradient */
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        color: transparent; /* Fallback for browsers that don't support text fill color */

        margin-bottom: 2rem; /* Increased margin */
        position: relative;
        display: block; /* Ensure it takes full width for text-align to work */
        width: 100%; /* Ensure it takes full width for text-align to work */
        text-align: center; /* Centered horizontally */
        white-space: normal; /* Allow text to wrap naturally */
        border-right: none; /* Remove blinking caret */
        animation: none; /* Remove typing animation */
    }

    /* Adjust the section header to consistently center its content */
    .featured-project-container .section-header {
      display: flex;
      flex-direction: column; /* Keep as column to stack content if multiple items */
      align-items: center; /* Centers items horizontally in a column layout */
      justify-content: center; /* Centers items vertically in a column layout (if space) */
      margin-bottom: 2rem;
    }

    /* --- Project Item Cards (for side projects in Featured Layout) --- */
    .project-card-item {
      background-color: #ffffff;
      border-radius: 0.75rem;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      height: auto;
      cursor: pointer;
      flex-shrink: 0;
    }

    .project-card-item:hover {
      transform: translateY(-5px) scale(1.02);
      /* Blue glow effect */
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2), 0 0 25px 5px rgba(37, 99, 235, 0.7);
    }

    .project-card-item img {
      width: 100%;
      height: 150px; /* Standard height for side project images */
      object-fit: cover;
      border-radius: 0.75rem 0.75rem 0 0;
    }

    .project-card-item-content {
      padding: 1rem; /* Standard padding for side project content */
      text-align: center;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .project-card-item h4 {
      font-size: 1.2rem; /* Standard title size for side projects */
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 0.5rem;
    }

    .project-card-item p {
      font-size: 0.85rem; /* Standard text size for side projects */
      color: #4a5568;
      line-height: 1.5;
      margin-bottom: 0.5rem; /* Reduced bottom margin */
      flex-grow: 1;
    }

    .project-card-item .view-project-btn {
      margin-top: auto;
      align-self: center;
      background-color: #3b82f6; /* Blue color for view project buttons */
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 9999px;
      transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-weight: 500;
    }

    .project-card-item .view-project-btn:hover {
      background-color: #2563eb;
      transform: translateY(-2px);
      /* Blue glow effect */
      box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3), 0 0 15px 3px rgba(37, 99, 235, 0.7);
    }

    /* Style for the "View All Projects" button (now only for Graphic) */
    .view-all-button-container {
        text-align: center;
        margin-top: 2rem;
        margin-bottom: 4rem; /* More space before next section or footer */
    }

    .view-all-button {
        background-color: #3b82f6; /* Blue, matching view-project-btn */
        color: white;
        padding: 1rem 2rem;
        border-radius: 9999px;
        font-size: 1.125rem;
        font-weight: 600;
        transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 8px rgba(59, 130, 246, 0.2); /* Blue shadow */
    }

    .view-all-button:hover {
        background-color: #2563eb; /* Darker blue on hover */
        transform: translateY(-3px) scale(1.02);
        /* Blue glow effect */
        box-shadow: 0 6px 12px rgba(59, 130, 246, 0.3), 0 0 20px 4px rgba(37, 99, 235, 0.7);
    }

    /* --- Header & Nav specific styles for dropdown --- */
    nav ul li.group { /* Parent li for dropdown */
        position: relative;
    }

    nav ul li.group ul { /* The sub-menu itself */
        position: absolute;
        top: 100%; /* Position right below parent link */
        left: 0;
        background-color: white;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        border-radius: 0.5rem;
        min-width: 100%;
        z-index: 10;
        opacity: 0;
        visibility: hidden;
        transform: translateY(10px);
        transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease;
        pointer-events: none; /* Crucial: allows clicks *through* when hidden */
        display: block; /* Ensure it's a block for positioning, visibility handled by opacity */
    }

    /* Style for when the dropdown is explicitly shown by JS click on desktop */
    nav ul li.group ul.show-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
        pointer-events: auto; /* Allows clicks on sub-menu items when visible */
    }

    /* Style for when the dropdown is shown by CSS hover on desktop */
    nav ul li.group:hover ul {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
        pointer-events: auto;
    }

    /* Footer bug fix consideration: Ensure main content takes available space */
    main {
        flex-grow: 1; /* Allows main to take up all available space */
        padding-top: 5rem; /* Adjusted to 5rem to account for fixed header */
        padding-bottom: 5rem; /* Ensure enough space at the bottom before footer */
    }


    /* --- Featured Project Layout (Common for both Graphic and Web) --- */
    .featured-project-container {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 0 1rem;
    }

    .featured-projects-content {
      display: flex;
      flex-direction: column; /* Default to column for mobile */
      gap: 2rem; /* Gap between featured and side projects */
      padding: 1rem; /* Padding inside the content area */
      background-color: rgba(255, 255, 255, 0.6);
      border-radius: 1rem;
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      /* For vertical alignment of featured and side projects */
      align-items: stretch; /* Stretch children to fill height of tallest sibling */
    }

    .featured-project {
      background-color: #ffffff;
      border-radius: 0.75rem;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      flex-grow: 1; /* Allow it to take available space */
      padding-bottom: 1.5rem; /* More padding at bottom of featured card */
      transition: transform 0.3s ease, box-shadow 0.3s ease; /* Add transition for hover effect */
    }

    .featured-project:hover {
        transform: translateY(-5px) scale(1.01); /* Subtle lift */
        /* Blue glow effect */
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2), 0 0 25px 5px rgba(37, 99, 235, 0.7);
    }

    .featured-project img {
      width: 100%;
      height: 300px; /* Larger image for featured project */
      object-fit: cover;
      border-radius: 0.75rem 0.75rem 0 0;
    }

    .featured-project-content {
      padding: 1.5rem;
      text-align: center;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .featured-project-content h4 {
      font-size: 2rem; /* Larger title for featured project */
      font-weight: 700;
      color: #2d3748;
      margin-bottom: 0.75rem;
    }

    .featured-project-content p {
      font-size: 1.1rem; /* Larger text for featured project */
      color: #4a5568;
      line-height: 1.6;
      margin-bottom: 1.5rem;
      flex-grow: 1;
    }

    .side-projects-grid {
      display: grid;
      grid-template-columns: 1fr; /* Stack on mobile */
      gap: 1.5rem;
      flex-grow: 1; /* Allow side projects grid to grow and take available space */
    }

    @media (min-width: 768px) {
      .featured-project-container .section-header {
        flex-direction: column; /* Keep column for consistent centering */
        justify-content: center; /* Keep centered */
        align-items: center; /* Keep centered */
      }
      .featured-project-container .section-title {
        margin-bottom: 0; /* No bottom margin when centered */
      }
      .featured-projects-content {
        flex-direction: row; /* Featured project on left, side projects on right */
      }

      .featured-project {
        width: 65%; /* Featured project takes more width */
        max-width: 750px; /* Max width for featured project */
      }

      .side-projects-grid {
        width: 35%; /* Side projects take remaining width */
      }
    }


    /* --- Carousel Section Styling --- */
    .carousel-section {
        padding: 2rem 1rem;
        max-width: 1200px;
        margin: 4rem auto; /* Add more margin for spacing from other sections */
        text-align: center;
        /* Updated background and backdrop-filter for modern transparency */
        background-color: rgba(255, 255, 255, 0.4); /* More transparent background */
        border-radius: 1.5rem; /* Slightly larger border-radius for softer look */
        box-shadow: 0 8px 24px rgba(0,0,0,0.1); /* Softer, wider shadow */
        backdrop-filter: blur(12px); /* Increased blur for stronger frosted effect */
        -webkit-backdrop-filter: blur(12px);
        position: relative;
        border: none; /* Removed border */
    }

    .carousel-wrapper {
        display: flex;
        overflow-x: hidden; /* Hide scrollbar, control with JS */
        scroll-behavior: smooth; /* Smooth scroll effect */
        scroll-snap-type: x mandatory; /* Snap to items */
        -webkit-overflow-scrolling: touch; /* For smoother scrolling on iOS */
        border-radius: 1rem; /* Rounded corners for the wrapper */
        margin: 1rem 0;
        align-items: stretch; /* Stretch items to fit the height of the tallest */
        min-height: 250px; /* Minimum height for the carousel wrapper */
        /* Removed background-color, border, and box-shadow from wrapper for cleaner look */
    }

    .carousel-item {
        /* Adjusted flex basis to show multiple items */
        flex: 0 0 calc(33.333% - 1.5rem); /* Show ~3 items with gap, 1.5rem is for gap */
        margin: 0 0.75rem; /* Half of the gap on each side */
        scroll-snap-align: center;
        padding: 0.75rem; /* Slightly reduced padding inside each slide */
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: rgba(255, 255, 255, 0.6); /* Transparent white background for items */
        border-radius: 1rem; /* Softer rounded corners for items */
        box-shadow: 0 2px 10px rgba(0,0,0,0.08); /* Lighter shadow for items */
        transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease; /* Smooth transition for items */
        border: none; /* Removed border */
    }

    .carousel-item:hover {
        transform: translateY(-5px) scale(1.01); /* Subtle lift and scale */
        /* Blue glow effect */
        box-shadow: 0 6px 15px rgba(0,0,0,0.15), 0 0 20px 4px rgba(37, 99, 235, 0.7);
        background-color: rgba(255, 255, 255, 0.8); /* Slightly less transparent on hover */
    }

    .carousel-item img {
        width: 100%; /* Occupy full width of the item */
        height: 100%; /* Occupy full height of the item */
        object-fit: cover; /* Cover the area, cropping if necessary */
        border-radius: 0.75rem; /* Rounded corners for image, matching item */
    }

    .carousel-nav-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(59, 130, 246, 0.6); /* Blue with more transparency */
        color: white;
        border: none;
        padding: 1rem;
        cursor: pointer;
        font-size: 1.5rem;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        display: flex;
        justify-content: center;
        align-items: center;
        /* Slightly more prominent shadow for buttons */
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
        z-index: 2; /* Above carousel items */
    }

    .carousel-nav-btn:hover {
        background-color: #2563eb; /* Darker blue on hover */
        transform: translateY(-50%) scale(1.1);
        /* Blue glow effect */
        box-shadow: 0 6px 15px rgba(0,0,0,0.3), 0 0 20px 4px rgba(37, 99, 235, 0.7);
    }

    .carousel-nav-btn.prev {
        left: 1rem;
    }

    .carousel-nav-btn.next {
        right: 1rem;
    }

    /* Project Details Modal specific styling */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        display: none; /* Changed from flex, opacity:0, visibility:hidden */
        justify-content: center;
        align-items: center;
        z-index: 1000;
        /* Removed transitions here as display property cannot be transitioned */
    }

    .modal-overlay.is-visible {
        display: flex; /* Changed from opacity:1, visibility:visible */
    }

    .modal-content {
        background-color: #ffffff;
        padding: 2rem;
        border-radius: 1rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        max-width: 700px;
        width: 90%;
        position: relative;
        text-align: left;
        transform: scale(0.9);
        opacity: 0;
        transition: transform 0.3s ease-out, opacity 0.3s ease-out;
    }

    .modal-overlay.is-visible .modal-content {
        transform: scale(1);
        opacity: 1;
    }

    .modal-close-btn {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: none;
        border: none;
        font-size: 2rem;
        color: #6b7280;
        cursor: pointer;
        transition: color 0.2s ease;
    }

    .modal-close-btn:hover {
        color: #3b82f6; /* Changed to blue on hover */
    }
    .spinner {
        border: 4px solid rgba(0, 0, 0, 0.1);
        width: 24px;
        height: 24px;
        border-radius: 50%;
        border-left-color: #3b82f6;
        animation: spin 1s ease infinite;
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }


    /* Responsive adjustments for header and general sections */
    @media (max-width: 767px) {
      /* Header, nav, and main padding adjustments */
      header .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        position: relative;
      }
      #main-nav-menu {
        display: none; /* Controlled by JS active class */
        flex-direction: column;
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        background-color: rgba(241, 245, 249, 0.95);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        z-index: 100;
        padding: 1rem 0;
        border-radius: 0 0 0.5rem 0.5rem;
      }
      #main-nav-menu.active {
        display: flex; /* Show main menu on mobile */
      }
      #main-nav-menu li {
        width: 100%;
        text-align: center;
        border-bottom: 1px solid #e2e8f0;
      }
      #main-nav-menu li:last-child {
        border-bottom: none;
      }
      #main-nav-menu li a {
        display: block;
        padding: 0.75rem 1rem;
        color: #4a5568;
        font-weight: 500;
      }
      #main-nav-menu li a.bg-blue-600 {
        color: white;
        border-radius: 0;
      }
      #mobile-menu-toggle {
        display: block;
        order: 2;
      }
      main {
        padding-top: 8rem; /* Higher padding for mobile to clear header */
      }

      /* Section titles on mobile */
      .section-title {
        font-size: 2rem;
        margin-bottom: 1rem;
        white-space: normal;
        width: auto;
        border-right: none;
        animation: none;
        -webkit-text-fill-color: initial;
        color: #2563eb; /* Use a solid color for mobile fallback */
        background: none; /* Remove background gradient on mobile */
      }
      
      /* Individual project cards (side web & side graphic) on mobile */
      .project-card-item {
        width: 100%; /* Take full width on mobile */
        height: auto;
        margin: 0 auto; /* Center individual cards */
      }
      .project-card-item img {
        height: 180px;
      }
      .project-card-item-content {
        padding: 1rem;
      }
      .project-card-item h4 {
        font-size: 1.25rem;
      }
      .project-card-item p {
        font-size: 0.85rem;
      }
      .project-card-item .view-project-btn {
        padding: 0.6rem 1.2rem;
        font-size: 0.9rem;
      }

      /* Featured project on mobile */
      .featured-project img {
        height: 200px; /* Adjust featured image height for mobile */
      }
      .featured-project-content h4 {
        font-size: 1.5rem;
      }
      .featured-project-content p {
        font-size: 0.95rem;
      }

      /* Carousel adjustments on mobile */
      .carousel-section {
          padding: 1rem; /* Less padding on mobile */
          margin: 2rem auto; /* Less margin */
          border-radius: 1rem; /* Smaller border-radius on mobile */
      }
      .carousel-wrapper {
          min-height: 200px; /* Smaller min-height for carousel on mobile */
      }
      .carousel-item {
          flex: 0 0 calc(80% - 1rem); /* Show ~1.2 items with gap */
          margin: 0 0.5rem; /* Half of the gap on each side */
          padding: 0.5rem; /* Less padding inside carousel items */
          border-radius: 0.75rem; /* Smaller border-radius on mobile */
      }
      .carousel-item img {
          max-height: 250px; /* Smaller max height for carousel images on mobile */
      }
      .carousel-nav-btn {
          width: 40px;
          height: 40px;
          font-size: 1.2rem;
          padding: 0.5rem;
      }
    }
  </style>
</head>

<body>
  <!-- Particles.js Canvas -->
  <div id="particles-js"></div>

  <!-- Header -->
  <header class="header-frosted shadow-md fixed w-full z-50">
    <nav class="container mx-auto px-6 py-4 flex justify-between items-center flex-wrap">
      <div class="logo flex items-center">
        <i class="fas fa-code text-blue-600 text-3xl mr-2"></i>
        <h1 class="text-3xl font-bold text-gray-800 hover:text-blue-600 transition duration-300 rounded-lg p-2">Shirly Herscovici</h1>
      </div>
      <!-- Hamburger menu button for mobile -->
      <button id="mobile-menu-toggle" class="md:hidden text-gray-700 hover:text-blue-600 focus:outline-none focus:text-blue-600">
        <i class="fas fa-bars text-2xl"></i>
      </button>
      <ul id="main-nav-menu" class="hidden md:flex flex-col md:flex-row space-x-0 md:space-x-8 mt-4 md:mt-0 w-full md:w-auto">
        <li><a href="index.html" class="text-lg text-gray-700 hover:text-blue-600 transition duration-300 py-2 px-3 rounded-md">Home</a></li>
        
        <!-- Design with Sub-menu -->
        <li class="relative group">
            <a href="#" class="bg-blue-600 text-white font-semibold py-2 px-3 rounded-md transition duration-300 hover:bg-blue-700 block" id="design-menu-toggle">Design <i class="fas fa-chevron-down ml-1 text-sm group-hover:rotate-180 transition-transform"></i></a>
            <ul class="absolute bg-white shadow-lg rounded-md mt-2 w-48 z-10">
                <li><a href="design_projects_page.html#graphic-design-section" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-t-md">Graphic Design (Summary)</a></li>
                <li><a href="graphic-all-projects.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">View All Graphic Projects</a></li>
                <li><a href="design_projects_page.html#web-development-section" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-b-md">Web Development</a></li>
            </ul>
        </li>
        <li><a href="ai/index.html" class="text-lg text-gray-700 hover:text-blue-600 transition duration-300 py-2 px-3 rounded-md">AI</a></li>
        <li><a href="index.html#contact-section" class="text-lg text-gray-700 hover:text-blue-600 transition duration-300 py-2 px-3 rounded-md">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main class="pt-20 pb-12 flex-grow">
    <div class="page-content">

      <!-- Graphic Design Projects Section (Featured Project Layout) -->
      <section id="graphic-design-section" class="py-12 mt-20">
        <div class="featured-project-container text-center max-w-full mx-auto">
            <div class="section-header">
                <h2 class="section-title">Graphic Design Projects</h2>
            </div>
            <div class="featured-projects-content">
                <!-- Featured Graphic Project (World Cup 22 Infographic) -->
                <div class="featured-project animate-on-scroll"
                    data-project='{
                        "id": "worldcup22",
                        "title": "World Cup 22 Infographic",
                        "image": "../img/thumbnail1.jpg",
                        "description": "An engaging infographic designed for the 2022 World Cup, featuring key statistics and visual highlights of the tournament. This project demonstrates data visualization and compelling graphic storytelling, transforming complex data into a visually appealing and easy-to-understand format for a broad audience.",
                        "technologies": ["Adobe Illustrator", "Infographics", "Data Visualization"],
                        "live_demo": "https://makospecial.co.il/worldcup22",
                        "type": "graphic"
                    }'>
                    <img src="../img/thumbnail1.jpg" alt="World Cup 22 Infographic" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not+Found';">
                    <div class="featured-project-content">
                        <h4>World Cup 22 Infographic</h4>
                        <p>An engaging infographic designed for the 2022 World Cup, featuring key statistics and visual highlights of the tournament, transforming complex data into a visually appealing and easy-to-understand format.</p>
                        <button class="view-project-btn">
                            View Project <i class="fas fa-external-link-alt ml-2"></i>
                        </button>
                    </div>
                </div>

                <!-- Side Graphic Projects -->
                <div class="side-projects-grid">
                    <!-- Graphic Project Item 2: Road Accidents -->
                    <div class="project-card-item animate-on-scroll"
                        data-project='{
                            "id": "road-accidents",
                            "title": "Road Accidents Data Visualization",
                            "image": "../img/thumbnail2.jpg",
                            "description": "A comprehensive data visualization project focusing on road accident statistics, designed to highlight critical safety information through clear and impactful graphics. This project showcases the ability to communicate sensitive data effectively and visually.",
                            "technologies": ["Adobe Photoshop", "Data Analysis", "Graphic Design"],
                            "live_demo": "https://specialprojects.mako.co.il/Road_Accidents",
                            "type": "graphic"
                        }'>
                        <img src="../img/thumbnail2.jpg" alt="Road Accidents Data Visualization" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not+Found';">
                        <div class="project-card-item-content">
                            <h4>Road Accidents Data Visualization</h4>
                            <p>A comprehensive data visualization project focusing on road accident statistics, designed to highlight critical safety information through clear and impactful graphics.</p>
                            <button class="view-project-btn">
                                View Project <i class="fas fa-external-link-alt ml-2"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Graphic Project Item 3: Climate Change -->
                    <div class="project-card-item animate-on-scroll"
                        data-project='{
                            "id": "climate-change",
                            "title": "Climate Change Awareness Graphics",
                            "image": "../img/thumbnail3.jpg",
                            "description": "Graphics created to raise awareness about climate change, translating complex environmental data into easily understandable and visually compelling messages. This project emphasizes impactful visual communication for social awareness.",
                            "technologies": ["Adobe InDesign", "Illustrations", "Environmental Design"],
                            "live_demo": "https://makospecial.co.il/climate_change",
                            "type": "graphic"
                        }'>
                        <img src="../img/thumbnail3.jpg" alt="Climate Change Awareness Graphics" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not+Found';">
                        <div class="project-card-item-content">
                            <h4>Climate Change Awareness Graphics</h4>
                            <p>Graphics created to raise awareness about climate change, translating complex environmental data into easily understandable and visually compelling messages.</p>
                            <button class="view-project-btn">
                                View Project <i class="fas fa-external-link-alt ml-2"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="view-all-button-container">
                <a href="graphic-all-projects.html" class="view-all-button">
                    View All Graphic Projects <i class="fas fa-arrow-right ml-2"></i>
                </a>
            </div>
        </div>
      </section>

      <!-- Web Development Section (Featured Project Layout) -->
      <section id="web-development-section" class="py-12 mt-20">
        <div class="featured-project-container text-center max-w-full mx-auto">
            <div class="section-header">
                <h2 class="section-title">Web Development Projects</h2>
            </div>
            <div class="featured-projects-content">
                <!-- Featured Project (TRAVELLY) -->
                <div class="featured-project animate-on-scroll"
                    data-project='{
                        "id": "travelly",
                        "title": "TRAVELLY - Travel Agency Website",
                        "image": "../img/TRAVEELY_ME.png",
                        "description": "This responsive and modern website for a travel agency features an attractive design and a seamless user experience. Developed with HTML, CSS, and vanilla JavaScript, it includes interactive forms, image carousels, and cross-browser compatibility to ensure a delightful browsing experience for potential travelers.",
                        "technologies": ["HTML5", "CSS3", "JavaScript"],
                        "live_demo": "https://shirly3212.github.io/TRAVELLY/",
                        "github_repo": "https://shirly3212.github.io/TRAVELLY",
                        "type": "web"
                    }'>
                    <img src="../img/TRAVEELY_ME.png" alt="Travelly Website" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not+Found';">
                    <div class="featured-project-content">
                        <h4>TRAVELLY - Travel Agency Website</h4>
                        <p>This responsive and modern website for a travel agency features an attractive design and a seamless user experience. Developed with HTML, CSS, and vanilla JavaScript, it includes interactive forms, image carousels, and cross-browser compatibility to ensure a delightful browsing experience for potential travelers.</p>
                        <button class="view-project-btn">
                            View Project <i class="fas fa-external-link-alt ml-2"></i>
                        </button>
                    </div>
                </div>

                <!-- Side Projects -->
                <div class="side-projects-grid">
                    <!-- Project Item 2: People Counter -->
                    <div class="project-card-item animate-on-scroll"
                        data-project='{
                            "id": "people-counter",
                            "title": "People Counter - Simple Counter App",
                            "image": "../img/PEOPLE_COUNTER.png",
                            "description": "A straightforward web application designed to count people entering or exiting an area. Built with HTML, CSS, and JavaScript, it provides a clean, intuitive interface for basic tracking. This project demonstrates fundamental front-end development skills and event handling.",
                            "technologies": ["HTML5", "CSS3", "JavaScript"],
                            "live_demo": "https://shirly3212.github.io/People-Counter/",
                            "github_repo": "https://shirly3212.github.io/People-Counter",
                            "type": "web"
                        }'>
                        <img src="../img/PEOPLE_COUNTER.png" alt="People Counter App" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not+Found';">
                        <div class="project-card-item-content">
                            <h4>People Counter - Simple Counter App</h4>
                            <p>A straightforward web application designed to count people entering or exiting an area.</p>
                            <button class="view-project-btn">
                                View Project <i class="fas fa-external-link-alt ml-2"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Project Item 3: Photographer -->
                    <div class="project-card-item animate-on-scroll"
                        data-project='{
                            "id": "photographer",
                            "title": "Photographer - Visual Portfolio",
                            "image": "../img/Photographer_me.png",
                            "description": "A sleek visual portfolio website created for photographers to showcase their work in an elegant and modern style. It features a responsive layout, image galleries, and contact information.",
                            "technologies": ["HTML5", "CSS3"],
                            "live_demo": "https://shirly3212.github.io/Photographer/",
                            "github_repo": "https://shirly3212.github.io/Photographer",
                            "type": "web"
                        }'>
                        <img src="../img/Photographer_me.png" alt="Photographer Portfolio" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not+Found';">
                        <div class="project-card-item-content">
                            <h4>Photographer - Visual Portfolio</h4>
                            <p>A sleek visual portfolio website for photographers to showcase their work in an elegant and modern style.</p>
                            <button class="view-project-btn">
                                View Project <i class="fas fa-external-link-alt ml-2"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
      </section>

      <!-- Graphic Design Gallery Carousel Section -->
      <section id="graphic-carousel-section" class="carousel-section">
        <h2 class="section-title">Graphic Design Gallery</h2>
        <div class="carousel-wrapper" id="carouselWrapper">
            <div class="carousel-item"
                 data-project='{
                   "id": "gallery-item-1",
                   "title": "Dynamic Graphic Design",
                   "image": "../img/gallery1.jpg",
                   "description": "This image represents a dynamic graphic design concept, combining vibrant colors and fluid shapes to create a sense of movement and energy.",
                   "technologies": ["Adobe Illustrator", "Concept Art"],
                   "live_demo": "../img/gallery1.jpg",
                   "type": "graphic",
                   "is_carousel_item": true
                 }'>
                <img src="../img/gallery1.jpg" alt="Dynamic Graphic Design" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not+Found';">
            </div>
            <div class="carousel-item"
                 data-project='{
                   "id": "gallery-item-2",
                   "title": "Abstract Graphic Design",
                   "image": "../img/gallery2.jpg",
                   "description": "An abstract graphic design piece, showcasing a unique blend of textures and minimalist forms, inviting interpretation and contemplation.",
                   "technologies": ["Adobe Photoshop", "Digital Painting"],
                   "live_demo": "../img/gallery2.jpg",
                   "type": "graphic",
                   "is_carousel_item": true
                 }'>
                <img src="../img/gallery2.jpg" alt="Abstract Graphic Design" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not +Found';">
            </div>
            <div class="carousel-item"
                 data-project='{
                   "id": "gallery-item-3",
                   "title": "Creative Graphic Design",
                   "image": "../img/gallery3.jpg",
                   "description": "A highly creative graphic design project, demonstrating innovative use of typography and visual hierarchy to convey a powerful message.",
                   "technologies": ["Adobe InDesign", "Typography"],
                   "live_demo": "../img/gallery3.jpg",
                   "type": "graphic",
                   "is_carousel_item": true
                 }'>
                <img src="../img/gallery3.jpg" alt="Creative Graphic Design" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not+Found';">
            </div>
            <div class="carousel-item"
                 data-project='{
                   "id": "gallery-item-4",
                   "title": "Modern Graphic Design",
                   "image": "../img/gallery4.jpg",
                   "description": "This modern graphic design emphasizes clean lines, balanced composition, and a sophisticated color palette, suitable for contemporary branding.",
                   "technologies": ["Adobe Illustrator", "Branding"],
                   "live_demo": "../img/gallery4.jpg",
                   "type": "graphic",
                   "is_carousel_item": true
                 }'>
                <img src="../img/gallery4.jpg" alt="Modern Graphic Design" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not+Found';">
            </div>
            <div class="carousel-item"
                 data-project='{
                   "id": "gallery-item-5",
                   "title": "Digital Art Design",
                   "image": "../img/gallery5.jpg",
                   "description": "A vibrant piece of digital art, showcasing experimental techniques and a rich blend of colors to create an immersive visual experience.",
                   "technologies": ["Procreate", "Digital Painting"],
                   "live_demo": "../img/gallery5.jpg",
                   "type": "graphic",
                   "is_carousel_item": true
                 }'>
                <img src="../img/gallery5.jpg" alt="Digital Art Design" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not+Found';">
            </div>
            <div class="carousel-item"
                 data-project='{
                   "id": "gallery-item-6",
                   "title": "Visual Identity Design",
                   "image": "../img/gallery6.jpg",
                   "description": "A comprehensive visual identity design project, including logo, color scheme, and typography, crafted to represent a brand's core values.",
                   "technologies": ["Adobe Illustrator", "Logo Design"],
                   "live_demo": "../img/gallery6.jpg",
                   "type": "graphic",
                   "is_carousel_item": true
                 }'>
                <img src="../img/gallery6.jpg" alt="Visual Identity Design" onerror="this.onerror=null;this.src='https://placehold.co/800x600/cccccc/333333?text=Image+Not+Found';">
            </div>
        </div>
        <button class="carousel-nav-btn prev" id="prevBtn"><i class="fas fa-chevron-left"></i></button>
        <button class="carousel-nav-btn next" id="nextBtn"><i class="fas fa-chevron-right"></i></button>
      </section>

    </div>
  </main>

  <!-- Footer -->
  <footer class="custom-footer-gradient text-white min-h-7vh py-8 flex justify-between items-center flex-wrap px-5 mt-auto">
    <h4 class="text-xl font-medium mb-4 md:mb-0">Shirly Herscovici © 2025</h4>
    <ul class="flex justify-center items-center flex-wrap gap-6">
      <li><a href="#" class="text-white hover:text-gray-200 transition duration-300" title="Instagram"><i class="fab fa-instagram text-2xl"></i></a></li>
      <li><a href="#" class="text-white hover:text-gray-200 transition duration-300" title="Twitter"><i class="fab fa-twitter text-2xl"></i></a></li>
      <li><a href="https://www.youtube.com/channel/UCmoA-WifFijhY71DV90qi0w" target="_blank" rel="noopener noreferrer" class="text-white hover:text-gray-200 transition duration-300" title="YouTube"><i class="fab fa-youtube text-2xl"></i></a></li>
      <li><a href="#" class="text-white hover:text-gray-200 transition duration-300" title="LinkedIn"><i class="fab fa-linkedin-in text-2xl"></i></a></li>
      <li><a href="#" class="text-white hover:text-gray-200 transition duration-300" title="GitHub"><i class="fab fa-github text-2xl"></i></a></li>
    </ul>
  </footer>

  <!-- Project Details Modal -->
  <div id="projectModal" class="modal-overlay">
      <div class="modal-content">
          <button class="modal-close-btn" id="closeModalBtn">&times;</button>
          <img id="modalProjectImage" src="" alt="Project Image" class="rounded-md mb-4 w-full h-64 object-cover">
          <!-- These elements will be conditionally hidden by JS for carousel images -->
          <h3 id="modalProjectTitle" class="text-3xl font-bold text-gray-800 mb-4"></h3>
          <p id="modalProjectDescription" class="text-gray-700 mb-4"></p>
          <div class="flex flex-wrap gap-2 mb-4">
              <span class="text-gray-600 font-semibold">Technologies Used:</span>
              <div id="modalTechnologies" class="flex flex-wrap gap-2"></div>
          </div>
          <div id="aiInsightContainer" class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg text-blue-800 text-left hidden">
              <p class="font-semibold mb-2">✨ AI Insight:</p>
              <div id="aiInsightText"></div>
              <div id="aiInsightLoading" class="flex items-center justify-center mt-2 hidden">
                  <div class="spinner mr-2"></div>
                  <span>Generating insight...</span>
              </div>
          </div>
          <div class="flex justify-center gap-4 mt-6">
              <a id="modalLiveDemoBtn" href="#" target="_blank" rel="noopener noreferrer" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-full text-lg transition duration-300 flex items-center">
                  Live Demo <i class="fas fa-external-link-alt ml-2"></i>
              </a>
              <a id="modalGithubRepoBtn" href="#" target="_blank" rel="noopener noreferrer" class="bg-gray-700 hover:bg-gray-800 text-white font-semibold py-2 px-6 rounded-full text-lg transition duration-300 flex items-center">
                  GitHub Repo <i class="fab fa-github ml-2"></i>
              </a>
              <button id="aiInsightBtn" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-6 rounded-full text-lg transition duration-300 flex items-center justify-center">
                  ✨ AI Insight
              </button>
          </div>
      </div>
  </div>

  <!-- Particles.js library -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script>
    // --- Particles.js Initialization ---
    particlesJS("particles-js", {
      "particles": {
        "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
        "color": { "value": "#b0e0e6" }, /* Light blue/cyan */
        "shape": { "type": "circle" },
        "opacity": { "value": 0.5, "random": false },
        "size": { "value": 3, "random": true },
        "line_linked": {
          "enable": true,
          "distance": 150,
          "color": "#b0e0e6",
          "opacity": 0.4,
          "width": 1
        },
        "move": {
          "enable": true,
          "speed": 3, /* Slightly slower speed for subtlety */
          "direction": "none",
          "random": false,
          "straight": false,
          "out_mode": "out",
          "bounce": false,
          "attract": { "enable": false, "rotateX": 600, "rotateY": 1200 }
        }
      },
      "interactivity": {
        "detect_on": "canvas",
        "events": {
          "onhover": { "enable": true, "mode": "grab" }, /* Grab effect on hover */
          "onclick": { "enable": true, "mode": "push" }, /* Push effect on click */
          "resize": true
        },
        "modes": {
          "grab": { "distance": 140, "line_linked": { "opacity": 1 } },
          "bubble": { "distance": 400, "size": 40, "duration": 2, "opacity": 8, "speed": 3 },
          "repulse": { "distance": 200, "duration": 0.4 },
          "push": { "particles_nb": 4 },
          "remove": { "particles_nb": 2 }
        }
      },
      "retina_detect": true
    });

    // --- Animation on Scroll Logic ---
    const allProjectCards = document.querySelectorAll('.animate-on-scroll'); 

    const observerOptions = {
        root: null, /* viewport as root */
        rootMargin: '0px',
        threshold: 0.1 /* callback fires when 10% of item is visible */
    };

    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
                // observer.unobserve(entry.target); // Optional: stop observing once animated
            }
        });
    }, observerOptions);

    allProjectCards.forEach(card => {
        observer.observe(card);
    });

    // --- Modal Logic ---
    const projectModal = document.getElementById('projectModal');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const modalProjectImage = document.getElementById('modalProjectImage');
    const modalProjectTitle = document.getElementById('modalProjectTitle');
    const modalProjectDescription = document.getElementById('modalProjectDescription');
    const modalTechnologies = document.getElementById('modalTechnologies');
    const modalLiveDemoBtn = document.getElementById('modalLiveDemoBtn');
    const modalGithubRepoBtn = document.getElementById('modalGithubRepoBtn');
    const aiInsightBtn = document.getElementById('aiInsightBtn');
    const aiInsightContainer = document.getElementById('aiInsightContainer');
    const aiInsightText = document.getElementById('aiInsightText');
    const aiInsightLoading = document.getElementById('aiInsightLoading');

    let currentProjectData = null; // Store data of the currently opened project

    // Function to open the modal
    function openModal(projectData) {
        currentProjectData = projectData; // Store the data
        modalProjectImage.src = projectData.image;

        const isCarouselGalleryItem = projectData.is_carousel_item === true;

        // Reset all elements to their default (visible) state
        modalProjectTitle.classList.remove('hidden');
        modalProjectDescription.classList.remove('hidden');
        modalTechnologies.parentElement.classList.remove('hidden'); // Parent div of technologies
        modalLiveDemoBtn.classList.remove('hidden');
        modalGithubRepoBtn.classList.remove('hidden');
        aiInsightBtn.classList.remove('hidden');
        aiInsightContainer.classList.add('hidden'); // AI insight content hidden by default
        aiInsightText.textContent = ''; // Clear any previous AI insight text
        aiInsightLoading.classList.add('hidden'); // Hide AI loading spinner

        if (isCarouselGalleryItem) {
            // If it's a carousel gallery item, hide all text and buttons
            modalProjectTitle.classList.add('hidden');
            modalProjectDescription.classList.add('hidden');
            modalTechnologies.parentElement.classList.add('hidden');
            modalLiveDemoBtn.classList.add('hidden');
            modalGithubRepoBtn.classList.add('hidden');
            aiInsightBtn.classList.add('hidden');
        } else {
            // For regular project cards, populate content
            modalProjectTitle.textContent = projectData.title;
            modalProjectDescription.textContent = projectData.description;

            modalTechnologies.innerHTML = ''; // Clear previous technologies
            if (projectData.technologies && projectData.technologies.length > 0) {
                projectData.technologies.forEach(tech => {
                    const span = document.createElement('span');
                    span.textContent = tech;
                    span.classList.add('bg-blue-100', 'text-blue-800', 'text-xs', 'font-medium', 'px-2.5', 'py-0.5', 'rounded-full');
                    modalTechnologies.appendChild(span);
                });
            } else {
                modalTechnologies.parentElement.classList.add('hidden'); // Hide if no technologies
            }

            // Show/hide GitHub button based on data
            if (projectData.github_repo) {
                modalGithubRepoBtn.href = projectData.github_repo;
            } else {
                modalGithubRepoBtn.classList.add('hidden');
            }

            // Show/hide Live Demo button based on data
            if (projectData.live_demo) {
                modalLiveDemoBtn.href = projectData.live_demo;
            } else {
                modalLiveDemoBtn.classList.add('hidden');
            }

            // Hide AI button for graphic design projects (which are not carousel gallery items in this logic branch)
            if (projectData.type === 'graphic') {
                aiInsightBtn.classList.add('hidden');
            }
        }

        projectModal.classList.add('is-visible');
        document.body.style.overflow = 'hidden'; // Prevent scrolling of body
    }

    // Function to close the modal
    function closeModal() {
        projectModal.classList.remove('is-visible');
        document.body.style.overflow = ''; // Restore scrolling of body
        currentProjectData = null; // Clear current project data
    }

    // Event listeners for opening modal: on any .project-card-item, .carousel-item or .featured-project
    document.querySelectorAll('.project-card-item, .carousel-item, .featured-project').forEach(item => {
        item.addEventListener('click', (event) => {
            // Prevent opening modal if a child button (like View Project) was clicked, 
            // as those buttons have their own href or event listeners
            if (event.target.closest('.view-project-btn')) {
                return;
            }

            let projectData = null;
            const projectDataString = item.dataset.project;

            if (!projectDataString || projectDataString === "undefined") {
                console.error("Invalid or undefined project data string for this item:", item);
                return;
            }
            try {
                projectData = JSON.parse(projectDataString);
            } catch (e) {
                console.error("Error parsing JSON for project data:", projectDataString, e);
                return;
            }
            
            if (projectData) {
                openModal(projectData);
            }
        });
    });

    // Handle clicks on "View Project" buttons *inside* the project cards
    document.querySelectorAll('.view-project-btn').forEach(button => {
        button.addEventListener('click', (event) => {
            event.stopPropagation(); // Stop click from propagating to parent card
            const card = event.target.closest('.project-card-item') || event.target.closest('.featured-project');
            if (card) {
                const projectDataString = card.dataset.project;
                if (!projectDataString || projectDataString === "undefined") {
                    console.error("Invalid or undefined project data string for this card:", projectDataString);
                    return;
                }
                try {
                    const projectData = JSON.parse(projectDataString);
                    openModal(projectData);
                } catch (e) {
                    console.error("Error parsing JSON for project data:", projectDataString, e);
                }
            }
        });
    });


    // Event listener for closing modal via button
    closeModalBtn.addEventListener('click', closeModal);

    // Event listener for closing modal by clicking outside content
    projectModal.addEventListener('click', (event) => {
        if (event.target === projectModal) { // Only close if clicked directly on overlay
            closeModal();
        }
    });

    // Event listener for closing modal with Escape key
    document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && projectModal.classList.contains('is-visible')) {
            closeModal();
        }
    });

    // --- Gemini API Integration ---
    aiInsightBtn.addEventListener('click', async () => {
        if (!currentProjectData || currentProjectData.type === 'graphic' || currentProjectData.is_carousel_item) { // Don't generate AI insight for graphic design or carousel items
            console.error("No project data available, not a web project, or is a carousel item to generate insight.");
            aiInsightContainer.classList.add('hidden'); // Ensure hidden if not applicable
            return;
        }

        aiInsightContainer.classList.remove('hidden'); // Show container
        aiInsightText.textContent = ''; // Clear previous text
        aiInsightLoading.classList.remove('hidden'); // Show loading spinner

        const prompt = `Given the following web development project:
Title: ${currentProjectData.title}
Description: ${currentProjectData.description}
Technologies: ${currentProjectData.technologies ? currentProjectData.technologies.join(', ') : 'N/A'}

Provide a concise, engaging, and insightful summary (2-3 sentences) highlighting the unique aspect or impact of this project. Focus on what makes it stand out or its practical value. Do not include a title for the summary. Return only the summary text.`;

        let chatHistory = [];
        chatHistory.push({ role: "user", parts: [{ text: prompt }] });
        const payload = { contents: chatHistory };
        const apiKey = ""; // If you want to use models other than gemini-2.0-flash or imagen-3.0-generate-002, provide an API key here. Otherwise, leave this as-is.
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            const result = await response.json();

            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                const text = result.candidates[0].content.parts[0].text;
                aiInsightText.textContent = text;
            } else {
                aiInsightText.textContent = "Failed to generate insight. Please try again.";
                console.error("Unexpected API response structure:", result);
            }
        } catch (error) {
            aiInsightText.textContent = "Error generating insight. " + error.message;
            console.error("Error calling Gemini API:", error);
        } finally {
            aiInsightLoading.classList.add('hidden'); // Hide loading spinner
        }
    });

    // --- Mobile Navigation Toggle ---
    document.addEventListener("DOMContentLoaded", function () {
      const mainNavUl = document.getElementById("main-nav-menu"); // Main ul
      const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
      const designMenuToggle = document.getElementById('design-menu-toggle'); // The "Design" link
      const designSubMenu = designMenuToggle.nextElementSibling; // The ul after "Design" link

      // Function to close all menus (main and sub)
      function closeAllMenus() {
          mainNavUl.classList.remove('active'); // Close main mobile menu
          if (designSubMenu) {
              designSubMenu.classList.remove('active'); // Close mobile dropdown
              designSubMenu.classList.remove('show-dropdown'); // Close desktop click dropdown
              designMenuToggle.querySelector('i').classList.remove('rotate-180'); // Reset chevron
          }
      }

      // Main mobile menu toggle
      if (mobileMenuToggle) {
          mobileMenuToggle.addEventListener('click', (event) => {
              event.stopPropagation(); // Prevent immediate closing due to outer click listener
              mainNavUl.classList.toggle('active');
              if (!mainNavUl.classList.contains('active')) { // If closing main menu
                  closeAllMenus(); // Close everything if hamburger is closing the main menu
              }
          });
      }

      // Design sub-menu toggle (for mobile and click scenarios on desktop)
      if (designMenuToggle && designSubMenu) {
          designMenuToggle.addEventListener('click', (event) => {
              event.preventDefault(); // ALWAYS prevent default link behavior for this specific toggle button
              event.stopPropagation(); // Prevent immediate closing due to outer click listener

              if (window.innerWidth < 768) { // Mobile behavior: toggle 'active' class
                  designSubMenu.classList.toggle('active');
              } else { // Desktop behavior: toggle 'show-dropdown' class
                  designSubMenu.classList.toggle('show-dropdown');
              }
              designMenuToggle.querySelector('i').classList.toggle('rotate-180'); // Rotate chevron
          });

          // Close sub-menu if clicking outside on desktop
          document.addEventListener('click', (event) => {
              // Only apply this logic on desktop sizes
              if (window.innerWidth >= 768) {
                  const isClickInsideDesignToggle = designMenuToggle.contains(event.target);
                  const isClickInsideDesignSubMenu = designSubMenu.contains(event.target);

                  // If the dropdown is currently shown by JS (show-dropdown)
                  // and the click was outside both the toggle button and the dropdown itself
                  if (designSubMenu.classList.contains('show-dropdown') && !isClickInsideDesignToggle && !isClickInsideDesignSubMenu) {
                      designSubMenu.classList.remove('show-dropdown');
                      designMenuToggle.querySelector('i').classList.remove('rotate-180');
                  }
              }
          });

          // Close all menus when a link inside main nav or sub-menu is clicked
          mainNavUl.querySelectorAll('a').forEach(link => {
              link.addEventListener('click', (event) => {
                  // If it's a sub-menu item or a non-group main nav link, close all menus
                  if (link.closest('.group ul') || (!link.closest('.group') && link.href && link.href !== '#')) {
                      closeAllMenus();
                  }
              });
          });
      }

      // Close all menus if resized to desktop view (from mobile)
      window.addEventListener('resize', () => {
          if (window.innerWidth >= 768) {
              closeAllMenus();
          }
      });
    });

    // --- Carousel Logic (New) ---
    const carouselWrapper = document.getElementById('carouselWrapper');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const carouselItems = document.querySelectorAll('.carousel-item');
    let currentIndex = 0;

    function updateCarousel() {
        if (!carouselWrapper || carouselItems.length === 0) return;

        // Calculate the scroll position for the current item based on showing multiple items
        // We need to account for the margin between items.
        // Get the actual width of one item including its margin.
        const itemStyle = window.getComputedStyle(carouselItems[0]);
        const itemMarginRight = parseFloat(itemStyle.marginRight);
        const itemMarginLeft = parseFloat(itemStyle.marginLeft); // Get left margin too
        // Total width for one item including its own margins
        const itemWidthWithMargins = carouselItems[0].offsetWidth + itemMarginLeft + itemMarginRight;

        const scrollAmount = itemWidthWithMargins * currentIndex;
        carouselWrapper.scrollLeft = scrollAmount;

        // Optional: Loop around
        if (currentIndex >= carouselItems.length) {
            currentIndex = 0;
            carouselWrapper.scrollLeft = 0; // Snap back instantly
        } else if (currentIndex < 0) {
            currentIndex = carouselItems.length - 1;
            carouselWrapper.scrollLeft = itemWidthWithMargins * (carouselItems.length - 1); // Snap back instantly
        }
    }

    // Initialize carousel on load
    window.addEventListener('load', updateCarousel);
    // Also update on resize to ensure correct snapping if layout changes
    window.addEventListener('resize', () => {
        updateCarousel(); // Re-calculate and snap to nearest item on resize
    });

    // Navigation buttons
    if (prevBtn) {
        prevBtn.addEventListener('click', () => {
            currentIndex--;
            updateCarousel();
        });
    }

    if (nextBtn) {
        nextBtn.addEventListener('click', () => {
            currentIndex++;
            updateCarousel();
        });
    }

    // Optional: Add swipe functionality for touch devices
    let startX;
    let isSwiping = false;

    if (carouselWrapper) {
        carouselWrapper.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
            isSwiping = true;
        });

        carouselWrapper.addEventListener('touchmove', (e) => {
            if (!isSwiping) return;
            // Prevent vertical scrolling while swiping horizontally
            // e.preventDefault(); // Commented out to allow vertical scroll if initial move is vertical
        });

        carouselWrapper.addEventListener('touchend', (e) => {
            if (!isSwiping) return;
            const endX = e.changedTouches[0].clientX;
            const diff = startX - endX;

            if (Math.abs(diff) > 50) { // A threshold for a valid swipe
                if (diff > 0) { // Swiped left (show next)
                    currentIndex++;
                } else { // Swiped right (show prev)
                    currentIndex--;
                }
                updateCarousel();
            }
            isSwiping = false;
        });
    }
  </script>
</body>

</html>
